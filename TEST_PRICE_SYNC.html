<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEST: Price Synchronization - EstatyQ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #0a0a0a;
            color: #fff;
            font-family: 'Roboto', sans-serif;
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        h1 { color: #d4af37; margin-bottom: 20px; }
        h2 { color: #d4af37; margin: 30px 0 15px 0; font-size: 1.3rem; }
        .test-section {
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid #333;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
        }
        .test-section h3 {
            color: #d4af37;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        button {
            background: #d4af37;
            color: #0a0a0a;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        button:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3); }
        .code-block {
            background: #1a1a1a;
            border-left: 3px solid #d4af37;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            border-radius: 4px;
        }
        .status-pass { color: #44dd44; font-weight: 600; }
        .status-fail { color: #ff4444; font-weight: 600; }
        .status-info { color: #44aaff; font-weight: 600; }
        .info-block {
            background: rgba(68, 170, 255, 0.1);
            border: 1px solid #44aaff;
            padding: 12px;
            margin: 10px 0;
            border-radius: 5px;
            font-size: 0.95rem;
        }
        .warning-block {
            background: rgba(255, 170, 44, 0.1);
            border: 1px solid #ffaa2c;
            padding: 12px;
            margin: 10px 0;
            border-radius: 5px;
            font-size: 0.95rem;
        }
        ul { margin-left: 20px; }
        li { margin: 5px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ TEST: Price Synchronization System (–ó–∞–¥–∞—á–∞ 3)</h1>
        
        <div class="info-block">
            <strong>‚ÑπÔ∏è –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è:</strong> –¶–µ–π —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å –Ω–∞–±—ñ—Ä —Ç–µ—Å—Ç—ñ–≤ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –ø–æ–ª–∑—É–Ω–∫–∞ —Ü–µ–Ω—ã —ñ –ø–æ–ª—ñ–≤ min/max. 
            –í—ñ–¥–∫—Ä–∏–π—Ç–µ console (F12) —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏.
        </div>

        <!-- TEST 1 -->
        <div class="test-section">
            <h3>‚úÖ –¢–µ—Å—Ç 1: –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —Å–ª–∞–π–¥–µ—Ä–∞ ‚Üí –ø–æ–ª—è input</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —Å–ª–∞–π–¥–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—è min/max</p>
            <button onclick="testSliderSync()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 1</button>
            <div class="code-block">
// –õ–æ–≥—ñ–∫–∞ —Ç–µ—Å—Ç—É:
// 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Å–ª–∞–π–¥–µ—Ä –Ω–∞ 300 (–Ω–∏–∂–Ω—è –ø–æ–ª–æ–≤–∏–Ω–∞)
// 2. –û—á—ñ–∫—É–≤–∞—Ç–∏: min –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ 300
// 3. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Å–ª–∞–π–¥–µ—Ä –Ω–∞ 700 (–≤–µ—Ä—Ö–Ω—è –ø–æ–ª–æ–≤–∏–Ω–∞)
// 4. –û—á—ñ–∫—É–≤–∞—Ç–∏: max –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ 700
            </div>
        </div>

        <!-- TEST 2 -->
        <div class="test-section">
            <h3>‚úÖ –¢–µ—Å—Ç 2: –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø–æ–ª—è min ‚Üí —Å–ª–∞–π–¥–µ—Ä</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –∑–º—ñ–Ω–∞ –ø–æ–ª—è min –ø–µ—Ä–µ–º—ñ—â—É—î —Å–ª–∞–π–¥–µ—Ä –Ω–∞ —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è</p>
            <button onclick="testMinInputSync()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 2</button>
            <div class="code-block">
// –õ–æ–≥—ñ–∫–∞ —Ç–µ—Å—Ç—É:
// 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ min = 200, max = 800
// 2. –ó–º—ñ–Ω–∏—Ç–∏ min –Ω–∞ 250
// 3. –û—á—ñ–∫—É–≤–∞—Ç–∏: —Å–ª–∞–π–¥–µ—Ä = (250 + 800) / 2 = 525
            </div>
        </div>

        <!-- TEST 3 -->
        <div class="test-section">
            <h3>‚úÖ –¢–µ—Å—Ç 3: –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø–æ–ª—è max ‚Üí —Å–ª–∞–π–¥–µ—Ä</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –∑–º—ñ–Ω–∞ –ø–æ–ª—è max –ø–µ—Ä–µ–º—ñ—â—É—î —Å–ª–∞–π–¥–µ—Ä –Ω–∞ —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è</p>
            <button onclick="testMaxInputSync()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 3</button>
            <div class="code-block">
// –õ–æ–≥—ñ–∫–∞ —Ç–µ—Å—Ç—É:
// 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ min = 100, max = 900
// 2. –ó–º—ñ–Ω–∏—Ç–∏ max –Ω–∞ 700
// 3. –û—á—ñ–∫—É–≤–∞—Ç–∏: —Å–ª–∞–π–¥–µ—Ä = (100 + 700) / 2 = 400
            </div>
        </div>

        <!-- TEST 4 -->
        <div class="test-section">
            <h3>‚ö†Ô∏è –¢–µ—Å—Ç 4: –í–∞–ª—ñ–¥–∞—Ü—ñ—è min > max (–ü–û–ú–ò–õ–ö–ê)</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –∫–æ—Ä—Ä–µ–∫—Ü—ñ—é –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ</p>
            <button onclick="testMinMaxError()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 4</button>
            <div class="warning-block">
                <strong>–û—á—ñ–∫—É—î–º–æ:</strong>
                <ul>
                    <li>–ß–µ—Ä–≤–æ–Ω–∏–π –±–æ—Ä–¥—é—Ä –Ω–∞ –æ–±–æ—Ö –ø–æ–ª—è—Ö</li>
                    <li>–ê–Ω—ñ–º–∞—Ü—ñ—è "shake" 0.4s</li>
                    <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –æ–±–º—ñ–Ω –∑–Ω–∞—á–µ–Ω–∏—è–º–∏</li>
                    <li>–ß–µ—Ä–µ–∑ 2 —Å–µ–∫ –∑–Ω–∏–∫–Ω–µ –ø—ñ–¥—Å–≤—ñ—Ç–∫–∞</li>
                    <li>Console.warn –≤–∏–≤–µ–¥–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</li>
                </ul>
            </div>
        </div>

        <!-- TEST 5 -->
        <div class="test-section">
            <h3>‚úÖ –¢–µ—Å—Ç 5: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥—î–º–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î –∫–æ—Ä—Ä–µ–∫—Ü—ñ—é –≤—ñ–¥—î–º–Ω–∏—Ö —Ü—ñ–Ω</p>
            <button onclick="testNegativeValues()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 5</button>
            <div class="code-block">
// –õ–æ–≥—ñ–∫–∞ —Ç–µ—Å—Ç—É:
// 1. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ min = -50
// 2. –û—á—ñ–∫—É–≤–∞—Ç–∏: –∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ—Ä—Ä–µ–∫—Ç—É—î—Ç—å—Å—è –Ω–∞ 0
// 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: min = 0
            </div>
        </div>

        <!-- TEST 6 -->
        <div class="test-section">
            <h3>‚úÖ –¢–µ—Å—Ç 6: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î –∫–æ—Ä—Ä–µ–∫—Ü—ñ—é –ø—Ä–∏ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—ñ –º–∞–∫—Å–∏–º—É–º—É</p>
            <button onclick="testLimitExceeded()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 6</button>
            <div class="code-block">
// –õ–æ–≥—ñ–∫–∞ —Ç–µ—Å—Ç—É:
// 1. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ max = 1500
// 2. –û—á—ñ–∫—É–≤–∞—Ç–∏: –∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ—Ä—Ä–µ–∫—Ç—É—î—Ç—å—Å—è –Ω–∞ 1000
// 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: max = 1000
            </div>
        </div>

        <!-- TEST 7 -->
        <div class="test-section">
            <h3>‚è±Ô∏è –¢–µ—Å—Ç 7: –î–µ–±–∞—É–Ω—Å —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —Ñ—ñ–ª—å—Ç—Ä–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —à–≤–∏–¥–∫–æ–º—É –≤–≤–æ–¥—ñ</p>
            <button onclick="testDebounce()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 7</button>
            <div class="warning-block">
                <strong>–û—á—ñ–∫—É—î–º–æ:</strong>
                <ul>
                    <li>5 —à–≤–∏–¥–∫–∏—Ö –∑–º—ñ–Ω –∑–Ω–∞—á–µ–Ω–Ω—è min</li>
                    <li>–§—ñ–ª—å—Ç—Ä–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ 1 —Ä–∞–∑</li>
                    <li>–í –∫–æ–Ω—Å–æ–ª—ñ 1 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è "–§—ñ–ª—å—Ç—Ä —Ü–µ–Ω—ã –ø—Ä–∏–º–µ–Ω—ë–Ω"</li>
                </ul>
            </div>
        </div>

        <!-- TEST 8 -->
        <div class="test-section">
            <h3>‚úÖ –¢–µ—Å—Ç 8: –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è —Ü–∏–∫–ª—ñ—á–Ω–æ—Å—Ç—ñ</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —Ñ–ª–∞–≥ isUpdating –ø–æ–ø–µ—Ä–µ–¥–∂—É—î –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–Ω—è</p>
            <button onclick="testNoInfiniteLoop()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 8</button>
            <div class="code-block">
// –õ–æ–≥—ñ–∫–∞ —Ç–µ—Å—Ç—É:
// 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ min = 100
// 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –≤—ñ–¥–±—É–ª–∞—Å—è –±–µ–∑ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–Ω—è
// 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: priceSync.isUpdating = false (–ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è)
            </div>
        </div>

        <!-- TEST 9 -->
        <div class="test-section">
            <h3>‚úÖ –¢–µ—Å—Ç 9: –ì—Ä–∞–Ω–∏—á–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–±–æ—Ç—É –Ω–∞ –≥—Ä–∞–Ω–∏—á–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–Ω—è—Ö</p>
            <button onclick="testBoundaryValues()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 9</button>
            <div class="code-block">
// –õ–æ–≥—ñ–∫–∞ —Ç–µ—Å—Ç—É:
// 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ min = 0, max = 1000
// 2. –°–ª–∞–π–¥–µ—Ä –º–∞—î –±—É—Ç–∏ –Ω–∞ 500
// 3. –í—Å–µ –ø–æ–≤–∏–Ω–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ
            </div>
        </div>

        <!-- TEST 10 -->
        <div class="test-section">
            <h3>‚úÖ –¢–µ—Å—Ç 10: –ü—É—Å—Ç—ñ –ø–æ–ª—è</h3>
            <p>–ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–±–æ—Ç—É –∑ –ø—É—Å—Ç–∏–º–∏ –ø–æ–ª—è–º–∏</p>
            <button onclick="testEmptyFields()">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¢–µ—Å—Ç 10</button>
            <div class="code-block">
// –õ–æ–≥—ñ–∫–∞ —Ç–µ—Å—Ç—É:
// 1. –û—á–∏—Å—Ç–∏—Ç–∏ –æ–±–∏–¥–≤–∞ –ø–æ–ª—è
// 2. –û—á—ñ–∫—É–≤–∞—Ç–∏: filters.priceMin = null, filters.priceMax = null
// 3. –°–ª–∞–π–¥–µ—Ä = (0 + 1000) / 2 = 500
            </div>
        </div>

        <!-- UTILITY BUTTONS -->
        <h2>üîß –£—Ç–∏–ª–∏—Ç–∏</h2>
        <div class="test-section">
            <button onclick="showCurrentState()">üìä –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω</button>
            <button onclick="resetPriceControls()">üîÑ –°–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è</button>
            <button onclick="openDevTools()">üíª –í—ñ–¥–∫—Ä–∏—Ç–∏ DevTools (F12)</button>
            <button onclick="runAllTests()">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –í–°–Ü –¢–ï–°–¢–ò</button>
        </div>

        <!-- RESULTS AREA -->
        <h2>üìã –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤</h2>
        <div id="results" class="test-section" style="min-height: 200px;">
            <p style="color: #999;">–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤ –±—É–¥—É—Ç—å –∑'—è–≤–ª—è—Ç–∏—Å—è —Ç—É—Ç...</p>
        </div>
    </div>

    <!-- TEST FUNCTIONS -->
    <script>
        // Helper function for logging
        function log(message, type = 'info') {
            const resultsDiv = document.getElementById('results');
            const statusClass = type === 'pass' ? 'status-pass' : type === 'fail' ? 'status-fail' : 'status-info';
            const icon = type === 'pass' ? '‚úÖ' : type === 'fail' ? '‚ùå' : '‚ÑπÔ∏è';
            
            const logEntry = document.createElement('p');
            logEntry.innerHTML = `<span class="${statusClass}">${icon} ${message}</span>`;
            resultsDiv.appendChild(logEntry);
            
            console.log(`[${type.toUpperCase()}] ${message}`);
        }

        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }

        function showCurrentState() {
            clearResults();
            // Note: These IDs would only exist in index.html, not in this test file
            log('–ü–æ–º—ñ—Ç–∫–∞: –¶–µ–π —Ñ–∞–π–ª –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó. –î–ª—è —Ä–µ–∞–ª—å–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ index.html –≤ –±—Ä–∞—É–∑–µ—Ä—ñ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ console (F12).', 'info');
            log('–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π, –±—É–¥—å –ª–∞—Å–∫–∞:', 'info');
            log('1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ index.html –≤ –±—Ä–∞—É–∑–µ—Ä—ñ', 'info');
            log('2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å F12 –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è DevTools', 'info');
            log('3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console', 'info');
            log('4. –°–∫–æ–ø—ñ—é–π—Ç–µ —ñ –≤—Å—Ç–∞–≤—Ç–µ –∫–æ–¥–∏ —Ç–µ—Å—Ç—ñ–≤ –∑ —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É', 'info');
        }

        function resetPriceControls() {
            clearResults();
            log('–ü–æ–º—ñ—Ç–∫–∞: –î–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–æ–ª—ñ–≤ —Ü–µ–Ω—ã, –±—É–¥—å –ª–∞—Å–∫–∞, –≤—Å—Ç–∞–≤—Ç–µ —Ü–µ–π –∫–æ–¥ –≤ console –Ω–∞ index.html:', 'info');
            log('document.getElementById("price-min").value = "";', 'info');
            log('document.getElementById("price-max").value = "";', 'info');
            log('document.getElementById("price-range").value = 500;', 'info');
        }

        function openDevTools() {
            log('–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å F12 –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è DevTools', 'info');
        }

        // Test functions
        function testSliderSync() {
            clearResults();
            log('–¢–µ—Å—Ç 1: –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —Å–ª–∞–π–¥–µ—Ä–∞ ‚Üí –ø–æ–ª—è input', 'info');
            log('–ö–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ console –Ω–∞ index.html:', 'info');
            const code = `
// Test 1: Slider -> Inputs
document.getElementById('price-range').value = 300;
document.getElementById('price-range').dispatchEvent(new Event('input'));
setTimeout(() => {
    const min = document.getElementById('price-min').value;
    console.log('‚úì Slider -> min:', min, '(–æ—á—ñ–∫—É–≤–∞–ª–æ—Å—å: 300)');
}, 100);
            `;
            log(code, 'info');
        }

        function testMinInputSync() {
            clearResults();
            log('–¢–µ—Å—Ç 2: –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø–æ–ª—è min ‚Üí —Å–ª–∞–π–¥–µ—Ä', 'info');
            const code = `
// Test 2: Min Input -> Slider
document.getElementById('price-min').value = '250';
document.getElementById('price-max').value = '800';
document.getElementById('price-min').dispatchEvent(new Event('input'));
setTimeout(() => {
    const slider = document.getElementById('price-range').value;
    const expected = Math.round((250 + 800) / 2);
    console.log('‚úì Slider position:', slider, '(–æ—á—ñ–∫—É–≤–∞–ª–æ—Å—å:', expected + ')');
}, 100);
            `;
            log(code, 'info');
        }

        function testMaxInputSync() {
            clearResults();
            log('–¢–µ—Å—Ç 3: –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø–æ–ª—è max ‚Üí —Å–ª–∞–π–¥–µ—Ä', 'info');
            const code = `
// Test 3: Max Input -> Slider
document.getElementById('price-min').value = '100';
document.getElementById('price-max').value = '700';
document.getElementById('price-max').dispatchEvent(new Event('input'));
setTimeout(() => {
    const slider = document.getElementById('price-range').value;
    const expected = Math.round((100 + 700) / 2);
    console.log('‚úì Slider position:', slider, '(–æ—á—ñ–∫—É–≤–∞–ª–æ—Å—å:', expected + ')');
}, 100);
            `;
            log(code, 'info');
        }

        function testMinMaxError() {
            clearResults();
            log('–¢–µ—Å—Ç 4: –í–∞–ª—ñ–¥–∞—Ü—ñ—è min > max', 'info');
            const code = `
// Test 4: Min > Max Error
document.getElementById('price-min').value = '600';
document.getElementById('price-max').value = '400';
document.getElementById('price-min').dispatchEvent(new Event('input'));
setTimeout(() => {
    const min = document.getElementById('price-min').value;
    const max = document.getElementById('price-max').value;
    const hasError = document.getElementById('price-min').classList.contains('input-error');
    console.log('‚úì Values swapped - min:', min, 'max:', max);
    console.log('‚úì Error class added:', hasError);
}, 100);
            `;
            log(code, 'info');
        }

        function testNegativeValues() {
            clearResults();
            log('–¢–µ—Å—Ç 5: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥—î–º–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å', 'info');
            const code = `
// Test 5: Negative Values
document.getElementById('price-min').value = '-50';
document.getElementById('price-min').dispatchEvent(new Event('blur'));
setTimeout(() => {
    const min = document.getElementById('price-min').value;
    console.log('‚úì Negative value corrected to:', min, '(–æ—á—ñ–∫—É–≤–∞–ª–æ—Å—å: 0)');
}, 100);
            `;
            log(code, 'info');
        }

        function testLimitExceeded() {
            clearResults();
            log('–¢–µ—Å—Ç 6: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É', 'info');
            const code = `
// Test 6: Limit Exceeded
document.getElementById('price-max').value = '1500';
document.getElementById('price-max').dispatchEvent(new Event('blur'));
setTimeout(() => {
    const max = document.getElementById('price-max').value;
    console.log('‚úì Exceeded value corrected to:', max, '(–æ—á—ñ–∫—É–≤–∞–ª–æ—Å—å: 1000)');
}, 100);
            `;
            log(code, 'info');
        }

        function testDebounce() {
            clearResults();
            log('–¢–µ—Å—Ç 7: –î–µ–±–∞—É–Ω—Å —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó', 'info');
            const code = `
// Test 7: Debounce
let filterCount = 0;
const originalApplyFilters = window.applyFilters;
window.applyFilters = function() {
    filterCount++;
    console.log('applyFilters called -', filterCount);
    originalApplyFilters.call(this);
};

for (let i = 0; i < 5; i++) {
    setTimeout(() => {
        document.getElementById('price-min').value = String(100 + i * 10);
        document.getElementById('price-min').dispatchEvent(new Event('input'));
    }, i * 50);
}

setTimeout(() => {
    console.log('‚úì Total applyFilters calls:', filterCount, '(–æ—á—ñ–∫—É–≤–∞–ª–æ—Å—å: 1 –∞–±–æ 2)');
    window.applyFilters = originalApplyFilters;
}, 2000);
            `;
            log(code, 'info');
        }

        function testNoInfiniteLoop() {
            clearResults();
            log('–¢–µ—Å—Ç 8: –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è —Ü–∏–∫–ª—ñ—á–Ω–æ—Å—Ç—ñ', 'info');
            const code = `
// Test 8: No Infinite Loop
document.getElementById('price-min').value = '100';
document.getElementById('price-min').dispatchEvent(new Event('input'));
setTimeout(() => {
    console.log('‚úì priceSync.isUpdating:', priceSync.isUpdating, '(–ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏: false)');
    console.log('‚úì –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –±–µ–∑ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–Ω—è');
}, 100);
            `;
            log(code, 'info');
        }

        function testBoundaryValues() {
            clearResults();
            log('–¢–µ—Å—Ç 9: –ì—Ä–∞–Ω–∏—á–Ω—ñ –∑–Ω–∞—á–µ–Ω–∏—è', 'info');
            const code = `
// Test 9: Boundary Values
document.getElementById('price-min').value = '0';
document.getElementById('price-max').value = '1000';
document.getElementById('price-range').value = 500;
document.getElementById('price-range').dispatchEvent(new Event('input'));
setTimeout(() => {
    const min = document.getElementById('price-min').value;
    const max = document.getElementById('price-max').value;
    const slider = document.getElementById('price-range').value;
    console.log('‚úì Min:', min, 'Max:', max, 'Slider:', slider);
    console.log('‚úì All values are correct (min=0, max=1000, slider=500)');
}, 100);
            `;
            log(code, 'info');
        }

        function testEmptyFields() {
            clearResults();
            log('–¢–µ—Å—Ç 10: –ü—É—Å—Ç—ñ –ø–æ–ª—è', 'info');
            const code = `
// Test 10: Empty Fields
document.getElementById('price-min').value = '';
document.getElementById('price-max').value = '';
document.getElementById('price-min').dispatchEvent(new Event('input'));
setTimeout(() => {
    console.log('‚úì filters.priceMin:', filters.priceMin, '(–ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏: null)');
    console.log('‚úì filters.priceMax:', filters.priceMax, '(–ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏: null)');
    const slider = document.getElementById('price-range').value;
    console.log('‚úì Slider position:', slider, '(–ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏: 500)');
}, 100);
            `;
            log(code, 'info');
        }

        function runAllTests() {
            clearResults();
            log('üöÄ –ó–ê–ü–£–°–ö –£–°–Ü–• –¢–ï–°–¢–Ü–í', 'info');
            log('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤—Å—Ç–∞–≤—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –≤ console –Ω–∞ index.html:', 'info');
            log('–¶–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—ñ —Ç–µ—Å—Ç–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ', 'info');
            
            log('', 'info');
            log('=== –Ü–ù–°–¢–†–£–ö–¶–Ü–á ===', 'info');
            log('1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ index.html –≤ –±—Ä–∞—É–∑–µ—Ä—ñ', 'info');
            log('2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å F12 –¥–ª—è DevTools', 'info');
            log('3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console', 'info');
            log('4. –ö–æ–ø—ñ—é–π—Ç–µ –∫–æ–¥ –∑ –≤–∏—â–µ–∑–∞–∑–Ω–∞—á–µ–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤', 'info');
        }
    </script>
</body>
</html>
